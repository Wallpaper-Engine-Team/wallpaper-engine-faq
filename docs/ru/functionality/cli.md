---
sidebarDepth: 2
---

# Командная строка

Вы можете управлять Wallpaper Engine с помощью командной строки. Это позволит вам получить доступ к большинству функций приложения с помощью ярлыка, привязки макроса или любого самописного сценария или кода на ваш выбор. Например, вы можете приостановить или остановить все обои, изменить их или даже изменить настройки уже запущенных обоев.

Убедитесь, что Wallpaper Engine запущена, а затем отправьте ей команду, запустив основной процесс программы, *wallpaper32.exe* (или *wallpaper64.exe*, если вы используете 64-разрядную версию), с любым из аргументов команды, перечисленных в этом руководстве. Вы можете найти исполняемые файлы в каталоге установки `wallpaper_engine`.

Все команды выполняются как значение параметра `-control`. Например, команду паузы можно выполнить так:

``` powershell
wallpaper32.exe -control pause
```

Обязательно используйте двойные кавычки **"** для строк, в которых есть пробелы:

``` powershell
wallpaper32.exe -control openWallpaper -file "C:\Program Files (x86)\Steam\steamapps\common\wallpaper_engine\projects\myprojects\myWallpaper\project.json"
```

### Пример ярлыка: открыть обои в окне

На следующем примере вы научитесь открывать любое количество обоев в окне с помощью ярлыка Windows. Вы можете повторять этот процесс и открывать любое количество обоев в отдельном окне. Это может пригодиться для стримеров, которые хотят использовать Wallpaper Engine для любого типа экрана в режиме ожидания или анимации.

Сначала перейдите в каталог `wallpaper_engine` и нажмите правой кнопкой на `wallpaper32.exe` или `wallpaper64.exe` и наведите курсор на `Отправить`, затем на `Рабочий стол (создать ярлык)`, чтобы создать новый ярлык процесса Wallpaper Engine на вашем рабочем столе. Затем найдите ваш новый ярлык и переименуйте его по своему усмотрению. После этого нажмите на него правой кнопкой мыши и выберите **«Свойства»**.

![Свойства ярлыка Wallpaper Engine](/img/faq/target.gif)

Перед вами появится вкладка **«Ярлык»** со строкой под названием **«Объект»**. В настоящий момент в строке указана только Wallpaper Engine. Теперь вам нужно отредактировать ее, чтобы добавить команду `openWallpaper`, полный путь к вашим обоям и параметр `playInWindow`, как показано на примере ниже (вы можете скопировать его и изменить для своих нужд):

```bash
"C:\Program Files (x86)\Steam\steamapps\common\wallpaper_engine\wallpaper64.exe" -control openWallpaper -file "C:\Program Files (x86)\Steam\steamapps\workshop\content\431960\123456789\scene.pkg" -playInWindow "Wallpaper #1" -width 1920 -height 1080
```

При настройке данной команды проверьте следующее:

* Убедитесь, что указан верный путь к wallpaper32.exe / wallpaper64.exe. Пример выше подходит для стандартного размещения каталога Steam.
* Убедитесь, что вы указали верный путь к обоям. Пример выше использует ID Мастерской **123456789**, вам необходимо изменить его, чтобы ваши обои работали. Вы также можете указать любой поддерживаемый файл на вашем компьютере.
  * Полный путь для любых обоев можно найти, нажав на них в Wallpaper Engine и выбрав **«Открыть в Проводнике»**. Для обоев типа «сцена» по умолчанию выбираются файлы *project.json*, для видеообоев — формат *.mp4* и для веб-обоев вы найдете файлы с названием *index.html*.
* Присвойте уникальное имя вашему окну. Пример выше использует **Wallpaper #1** в качестве имени. **Если вы хотите открыть множество окон, присвойте каждому из них уникальное имя.**
* Вы также можете настроить разрешение, в примере выше указано разрешение 1920x1080 (Full HD). Также измените параметры `width` и `height`.

## Обзор команд

### Пауза

Приостанавливает все обои.

``` powershell
-control pause
```

### Стоп

Останавливает все обои.

``` powershell
-control stop
```

### Воспроизвести

Возобновляет все обои после паузы или остановки.

``` powershell
-control play
```

### Заглушить

Отключает все обои.

``` powershell
-control mute
```

### Вкл. звук

Включает все обои.

``` powershell
-control unmute
```

### Открыть обои

Загружает новые обои для данного монитора или первого монитора, если они не определены. Вы можете использовать параметр `location` или `monitor`, чтобы выбрать монитор для загрузки обоев, или открыть обои в окне с помощью параметра `playInWindow`.

``` powershell
-control openWallpaper -file <string> [-location <string>] [-monitor <number>]
        [-playInWindow <string>] [-width <number>] [-height <number>]
        [-x <number>] [-y <number>] [-preset <string>]
```

* **file:** Путь к project.json обоев, которые вы хотите открыть, или прямой путь к файлу обоев (.mp4 и т. д.).
* **location *(необязательно)*:** Внутренний идентификатор монитора. Вы можете найти его в файле config.json, который генерируется вашим компьютером.
* **monitor *(необязательно)*:** Индекс монитора, на который будут загружены обои, начинается с 0.
* **preset *(необязательно)*:** Имя локальных предустановок для загрузки, локальные предустановки должны быть созданы и сохранены вами ранее.
* **playInWindow *(необязательно)*:** Имя окна, если вы хотите открыть/управлять несколькими обоями в окне.
  * **width *(необязательно)*:** Ширина окна.
  * **height *(необязательно)*:** Высота окна.
  * **x *(необязательно)*:** Горизонтальное положение окна.
  * **y *(необязательно)*:** Вертикальное положение окна.

### Следующие обои

Переход к следующим обоям данного монитора или всех мониторов, если они не определены.

``` powershell
-control nextWallpaper [-location <string>] [-monitor <number>]
```

### Удалить обои

Удаляет обои с указанного монитора или окна или удаляет все обои.

``` powershell
-control closeWallpaper [-location <string>] [-monitor <number>]
```

* **location *(необязательно)*:** Внутренний идентификатор монитора или указанное вами имя окна.
* **monitor *(необязательно)*:** Индекс монитора, на котором нужно закрыть обои, начинается с 0.

### Открыть плейлист

Загружает новые обои для данного монитора или первого монитора, если они не определены. Вы можете использовать параметр местоположения или монитора, чтобы выбрать, на каком мониторе загружать обои.

``` powershell
-control openPlaylist -playlist <string> [-location <string>] [-monitor <number>]
```

* **playlist:** Название списка воспроизведения, который вы создали и сохранили в Wallpaper Engine.
* **location *(необязательно)*:** Внутренний идентификатор монитора. Вы можете найти его в файле config.json, который генерируется вашим компьютером.
* **monitor *(необязательно)*:** Индекс монитора, на котором будет загружен список воспроизведения, начинается с 0.

### Открыть профиль

Применяет существующий профиль ко всем дисплеям, которые были созданы и сохранены в меню дисплеев Wallpaper Engine.

``` powershell
-control openProfile -profile <string>
```

* **profile:** Имя вашего профиля в Wallpaper Engine.

### Применить настройки обоев

Применяет выбранные свойства к данным обоям или ко всем обоям. Это позволяет вам изменять любые настройки обоев во время работы программы, не открывая браузер обоев и не меняя их вручную. Вы можете легко найти список доступных свойств в браузере, щелкнув **Share JSON** справа при выборе любых обоев в браузере.

``` powershell
-control applyProperties -properties <JSON> [-location <string>] [-monitor <number>]
```

* **properties:** Применяемые свойства определены как строка **JSON **. Строка должна быть специально обозначена с помощью разделителей `RAW~(` и `)~END`. См. примеры ниже!
* **location *(необязательно)*:** Внутренний идентификатор монитора или указанное вами имя окна.
* **monitor *(необязательно)*:** Индекс монитора, на котором нужно обновить свойства, начинается с 0.

Пример изменения параметра обоев `rate` на 10:

``` cpp 
-control applyProperties -properties RAW~({"rate":10})~END
```

Пример изменения настройки цвета схемы обоев на красный (`"1 0 0"`обозначает значения *RGB *):

``` cpp
-control applyProperties -properties RAW~({"schemecolor":"1 0 0"})~END
```

### Скрыть значки рабочего стола

Скрывает значки на рабочем столе.

``` powershell
-control hideIcons
```

### Показать значки рабочего стола

Показывает значки на рабочем столе.

``` powershell
-control hideIcons
```

### Найти путь к файлу обоев

Помогает найти путь к обоям и выводит его строкой на устройство вывода по умолчанию. Вы также можете указать, на какой монитор нужно вывести путь к обоям. Функция будет полезна, если вы хотите включить Wallpaper Engine в другие инструменты, которые каким-либо образом будут взаимодействовать с активными сейчас обоями.

``` powershell
-control getWallpaper [-location <string>] [-monitor <number>]
```

* **location *(необязательно)*:** Внутренний идентификатор монитора или указанное вами имя окна.
* **monitor *(необязательно)*:** Индекс монитора, на котором нужно обновить свойства, начинается с 0.
* **RETURNS:** Путь к файлу активных обоев.
