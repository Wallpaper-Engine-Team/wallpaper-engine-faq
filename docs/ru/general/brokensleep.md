- - -
  tags:
  - screensavers
  - hibernation
  - sleep
  - power saving
- - -

# Гибернация / неработающая экранная заставка

Windows никогда не входит в режим гибернации пока какие-либо процессы воспроизводят аудио. Самый простой решения этой проблемы — отключить вывод аудио на вкладке «Общее» в настройках Wallpaper Engine. В результате программа перестанет мешать Windows войти в режим гибернации. Если вы хотите оставить вывод аудио включенным, вы можете настроить систему по инструкции ниже.

## Измените параметры электропитания Windows

Windows никогда не входит в режим гибернации пока какие-либо процессы воспроизводят аудио. Самый простой решения этой проблемы — отключить вывод аудио на вкладке «Общее» в настройках Wallpaper Engine. Кроме того, можно настроить Windows так, чтобы система входила в гибернацию, пока воспроизводится аудио:

1. Зайдите в раздел «Параметры питания и спящего режима» в настройках Windows. Для этого введите название раздела в поиске Windows.
2. Нажмите на «Дополнительные параметры питания».
3. Нажмите на «Настройку схемы электропитания» рядом с выбранной на компьютере схемой.
4. Нажмите на «Изменить дополнительные параметры питания».
5. Прокрутите список вниз и разверните раздел «Параметры мультимедиа».
6. Для параметра «При общем доступе к мультимедиа» в выпадающем списке выберите вариант «Разрешить компьютеру переходить в режим отсутствия» (для экранных заставок) **или** «Разрешить компьютеру переходить в спящий режим» (для гибернации).

![Включение настройки «Разрешить компьютеру переходить в спящий режим»](./power.gif)

## Проблемы с гибернацией при использовании обоев типа «веб»

Для работы обоев типа «веб» используется браузер, очень похожий на Google Chrome («CEF»), который не дает системе перейти в режим гибернации. Пока эта ошибка не будет исправлена в самом браузере, ее можно обойти, введя определенные команды в командной строке.

1. Введите «cmd.exe» в поиске Windows, нажмите правой кнопкой мыши по программе и выберите вариант «Запустить от имени администратора» (последний пункт очень важен: при иных настройках дальнейшие шаги не помогут!).
2. Используйте команду `powercfg /requests`, чтобы отобразить список процессов, которые не дают системе войти в режим гибернации (заодно удостоверьтесь, что проблема не связана со сторонними программами).
3. Используйте следующие три команды, чтобы разрешить системе вход в режим гибернации при работе Wallpaper Engine:

```
powercfg /requestsoverride PROCESS webwallpaper32.exe AWAYMODE DISPLAY SYSTEM
powercfg /requestsoverride PROCESS wallpaper32.exe AWAYMODE DISPLAY SYSTEM
powercfg /requestsoverride PROCESS wallpaper64.exe AWAYMODE DISPLAY SYSTEM
```

Также можно на вкладке **Производительность** настроек Wallpaper Engine найти параметр **Монитор в спящем режиме** и в выпадающем списке выбрать для него вариант *Остановить (освободить память)*, а затем отключить монитор. Эта настройка останавливает воспроизведение медиа при выключенном мониторе, когда вы не пользуетесь компьютером.